<!DOCTYPE html>
<html>

<head> 
	<title> And Serve You French Toast (Data Analysis) Again, Part 2: Analysis </title>
	<link rel="stylesheet" href="../style.css">
	<link rel="stylesheet" href="../mobile.css" media="screen and (max-device-width: 850px)" />
</head>

<body id="project_page">

<div id="content_wrapper"><div id="content_area">

</body>

<div id="date_heading">
	<h1>And Serve You French Toast (Data Analysis) Again, Part 2: Analysis</h1> 
	4.17.2022
</div>	

<h2>Normalizing the units</h2>
<p> I want to do some analysis with the basic french toast ingredients bread, eggs, and milk/cream. Obviously, there is variation in what units of measuremnt the recipes call for, so I tried my best to make the units as congruent as possible. </p>


<p> Start with opening the CSV data as a Pandas dataframe.</p>
<pre><code>    
ft_recipes = pd.read_csv("french_toast_recipes_cleaned_final.csv", index_col=False, na_filter = False) 
ft_recipes["quant"] = pd.to_numeric(ft_recipes["quant"])
ft_recipes_vc = ft_recipes["title"].value_counts()
</pre></code>

<p>First I tackled the bread. As you might expect, most of the recipes did not give explicit quantites of bread. Only a handful specify a 1 pound loaf of bread, and even fewer of those specific the width of slides. And that makes sense, bread comes in all shapes and sizes and it would be a bit silly if a recipe called for 450g of bread or whatever. And really, the exact bread quanitty for this doesn't matter too much. The way I figure it, you just need enough bread to soak up the custard, and that custard and the following cooking techniques are more important to the outcome. I just focused on recipes that called for "slices".</p>
<pre><code>  
## Normalizing the units
# bread
b = ft_recipes.loc[ft_recipes["category"] == "bread"].copy()
b.loc[b["units"] == "slices", ["bread slices"]] = b["quant"]
</pre></code>

For eggs, I assumed all eggs are large eggs, and that each egg is equivalent to 1.7 fluid ounces.
<pre><code>   
# eggs
e = ft_recipes.loc[ft_recipes["category"] == "eggs"].copy()
# wolframalpha: 1.7 fluid ounces from a large egg
e.loc[(e["ingr"] == "eggs") & (e["units"] != "cups"), ["eggs (fl oz)"]] = e["quant"] * 1.7 
e.loc[e["units"] == "cups", ["eggs (fl oz)"]] = e["quant"] * 8
</pre></code>

Milk is easy, just a conversion to fluid ounces.
<pre><code>   
# milk
m = ft_recipes.loc[ft_recipes["category"] == "milkcream"].copy()
m.loc[m["units"] == "cups", ["milk/cream (fl oz)"]] = m["quant"] * 8
m.loc[m["units"] == "tablespoons", ["milk/cream (fl oz)"]] = m["quant"] * 2
m.loc[m["units"] == "teaspoons", ["milk/cream (fl oz)"]] = m["quant"] * 0.1667
</pre></code>

Finally, I group the rows into a "normalized" dataframe.
<pre><code> 
norm = pd.concat([b,e,m])
norm = norm[["title", "bread slices", "eggs (fl oz)", "milk/cream (fl oz)"]]

norm = norm.groupby("title", as_index=False).agg("first")
# check that each recipe has only one bread, egg, milk/cream
norm_cnt = norm.groupby("title", as_index=False).agg("count")
</pre></code>

<figure>
    <img src="images/french-toast-norm.png"><img>
	<figcaption>norm dataframe.</figcaption>
</figure>

<h2>Ratios</h2>

</html>
