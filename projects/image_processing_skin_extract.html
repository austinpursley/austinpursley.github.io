<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Image Processing Part 3: Skin Extraction | austinpursley.com</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Image Processing Part 3: Skin Extraction" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The senior design project I have been working on in school is a “smart mirror”. Equipped with a thermal and RGB camera, its primary goal is to analyze a user’s face and give health feedback. The subsystem I was responsible for was image processing and my goal was to analyze user images to obtain health metrics. In this post, I go over extracting the user’s skin (from images, of course)." />
<meta property="og:description" content="The senior design project I have been working on in school is a “smart mirror”. Equipped with a thermal and RGB camera, its primary goal is to analyze a user’s face and give health feedback. The subsystem I was responsible for was image processing and my goal was to analyze user images to obtain health metrics. In this post, I go over extracting the user’s skin (from images, of course)." />
<link rel="canonical" href="http://localhost:4000/projects/image_processing_skin_extract.html" />
<meta property="og:url" content="http://localhost:4000/projects/image_processing_skin_extract.html" />
<meta property="og:site_name" content="austinpursley.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-28T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Image Processing Part 3: Skin Extraction" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2018-04-28T00:00:00-04:00","datePublished":"2018-04-28T00:00:00-04:00","description":"The senior design project I have been working on in school is a “smart mirror”. Equipped with a thermal and RGB camera, its primary goal is to analyze a user’s face and give health feedback. The subsystem I was responsible for was image processing and my goal was to analyze user images to obtain health metrics. In this post, I go over extracting the user’s skin (from images, of course).","headline":"Image Processing Part 3: Skin Extraction","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/projects/image_processing_skin_extract.html"},"url":"http://localhost:4000/projects/image_processing_skin_extract.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/styles.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="austinpursley.com" /></head>
<body>
    <main class="page-content" aria-label="Content">
	
      <div class="wrapper project">
	
        <h1>Image Processing Part 3: Skin Extraction</h1>
<p>28 Apr 2018</p>

<p>The senior design project I have been working on in school is a “smart mirror”. 
 Equipped with a thermal and RGB camera, its primary goal is to analyze a user’s face and give health feedback. 
 The subsystem I was responsible for was image processing and
 my goal was to analyze user images to obtain health metrics.
 In this post, I go over extracting the user’s skin (from images, of course).</p>

<h2 id="skin">Skin</h2>

<p>If you take a picture of someone and want to do some image analysis of their
 skin lesions (normal stuff, right?), first you have to determine which part of the image is their skin.
 A major requirment for this process is that it has to be more flexible than
 simply providing a fixed range of color values meant to include all human 
 skin types.</p>

<h2 id="process">Process</h2>

<p><img src="/assets/images/skin_extract_diagram.png" alt="skin extraction diagram" />
<em>Skin extraction process steps.</em></p>

<p>This is another process inspired/adapted/straight-up-coped from a 
 <a href="http://www.robots.ox.ac.uk/~vgg/publications/2011/Mittal11/mittal11.pdf">paper</a>. 
 The idea behind this skin extraction process is that if you know where 
 the face is, then you have an approximation of what the rest of the skin 
 looks like. This works well because face detection is robust, easy to implement, and works for all skin colors.
 The process can also be improved by detecting and removing eyes and mouth 
 before the skin color range is calculated.</p>

<p><img src="/assets/images/skin_extract_pic1.png" alt="skin extraction sample results" />
<em>Sample results with well-liked celebrities (mouth and eyes not removed).</em></p>

<h2 id="corner-cases">Corner Cases</h2>

<p>This process will still include any background areas or hair that are too similar to the skin
 color of the user. Teeth are also kind of hit-or-miss, but something tells me no one will be smiling at a smart mirror. In addition, accuracy of skin detection depends on the 
 accuracy of face and face feature detection. 
 I used OpenCV’s Haar Cascade classifiers for detection, however they were not that accurate, 
 especially for mouth and eye detection. If I was looking at this again, I would look at 
 alternatives such as
 <a href="https://www.pyimagesearch.com/2017/04/03/facial-landmarks-dlib-opencv-python/">facial landmarks with dlib</a> 
 .</p>

<p><a href="https://github.com/austinpursley/ECEN-Senior-Design-Smart-Mirror-Image-Processing/tree/master/rgb/skin_extract">Github</a> 
 for C++, OpenCV code.</p>



      </div>
    </main>
  </body>

</html>
